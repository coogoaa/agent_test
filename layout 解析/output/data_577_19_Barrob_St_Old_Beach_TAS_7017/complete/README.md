# Final.json 完整数据解析

**数据源**: `data/Address: 19 Barrob St, Old Beach TAS 7017, Australia 147.2752573,-42.7520648/final.json`  
**项目ID**: 577  
**解析范围**: **所有信息**，包括嵌套的 layout JSON 字符串中的详细数据

---

## 📋 数据说明

本目录包含从 `final.json` 文件中提取的**完整信息**，包括：
1. ✅ 项目基本信息（地址、坐标、安装商等）
2. ✅ 设计方案信息（财务、电池、IRR等）
3. ✅ **嵌套的 layout 数据**（解析了每个设计方案中的 layout JSON 字符串）
4. ✅ 面板详细信息（位置、朝向、坡度）
5. ✅ 月度发电量（12个月）
6. ✅ 月度日均发电量
7. ✅ **小时发电量**（12月 × 24小时 = 288个数据点）

---

## 📂 文件列表

### 1. 完整项目信息
- **文件**: `01_完整项目信息.csv` / `01_完整项目信息.md`
- **说明**: 项目的所有基础信息
- **字段** (17个):
  - 项目ID、项目代码
  - 完整地址（国家、州、城市、邮编）
  - 经纬度坐标
  - 屋顶面积、行布局
  - 类型、温度范围
  - 安装商代码、地图链接
  - 设计方案数量

### 2. 设计方案完整信息
- **文件**: `02_设计方案完整信息.csv` / `02_设计方案完整信息.md`
- **说明**: 所有设计方案的完整参数（含 layout 基本信息）
- **字段** (30个):
  - 设计ID、项目ID、设计类型、设计名称
  - 系统大小、安装面板数量
  - **GIS时间ID、GIS日期、屋顶数量** (来自 layout)
  - 前期投资（最小/标准/最大）
  - 补贴金额、实际投资
  - 年度账单节省（最小/标准/最大）
  - 内部收益率 (IRR 和百分比)
  - 回本期（月和年）
  - 电池容量
  - 自用率（最小/标准/最大和百分比）
  - 卡片链接、渲染链接

### 3. 各方案面板完整信息
- **文件**: `03_[方案名称]_面板完整信息.csv` / `.md` (3个文件)
- **说明**: 每个设计方案中每个屋顶的完整面板信息
- **字段** (32个):
  - 设计方案、屋顶编号
  - 面板数量
  - 朝向角度和描述
  - 坡度（弧度和角度）
  - 计算状态
  - 年度总发电量
  - **1-12月月度发电量** (12个字段)
  - **1-12月日均发电量** (12个字段)

### 4. 各方案月度发电量汇总
- **文件**: `04_[方案名称]_月度发电量汇总.csv` / `.md` (3个文件)
- **说明**: 每个设计方案的月度发电量汇总表
- **特点**:
  - 按屋顶分行显示
  - 包含总计行
  - 包含年度总计列

### 5. 各方案小时发电量数据
- **文件**: `05_[方案名称]_屋顶[N]_小时发电量.csv` / `.md` (9个文件，3方案×2屋顶×2格式)
- **说明**: 每个设计方案中每个屋顶的小时级发电量数据
- **维度**: 12个月 × 24小时 = 288个数据点
- **用途**: 
  - 精细化能源管理
  - 日内发电模式分析
  - 发电高峰时段识别

---

## 📊 数据统计

### 项目概况
- **项目ID**: 577
- **地址**: 19 Barrob St, Old Beach TAS 7017, Australia
- **坐标**: 147.2752573, -42.7520648
- **州**: Tasmania (TAS)
- **城市**: Old Beach
- **邮编**: 7017
- **设计方案数**: 3

### 三个设计方案对比

| 指标 | maxValue | customFit | mostPopular |
|------|----------|-----------|-------------|
| **设计ID** | 905 | 906 | 907 |
| **设计类型** | 0 | 2 | 1 |
| **系统大小** | 7.04 kW | 7.04 kW | 7.04 kW |
| **面板总数** | 16 块 | 16 块 | 16 块 |
| **屋顶数量** | 2 个 | 2 个 | 2 个 |
| **电池容量** | 22.22 kWh | 5.03 kWh | 14.82 kWh |
| **前期投资** | $14,920 | $7,584 | $10,888 |
| **补贴** | $7,080 | $2,760 | $5,220 |
| **实际投资** | $7,840 | $4,824 | $5,668 |
| **年度发电量** | 980.6 kWh | 980.6 kWh | 980.6 kWh |
| **年度节省** | $294.18 | $294.18 | $294.18 |
| **回本期** | 8.3 年 | 8.3 年 | 8.3 年 |
| **IRR** | 2.51% | 2.51% | 2.51% |
| **自用率** | 100% | 100% | 100% |

### 屋顶配置（所有方案相同）

| 屋顶 | 面板数 | 朝向 | 坡度 | 年发电量 | 占比 |
|------|--------|------|------|----------|------|
| 屋顶1 | 7块 | 北向 (-0.15°) | 23° | 488.42 kWh | 49.8% |
| 屋顶2 | 9块 | 南向 (179.85°) | 23° | 492.18 kWh | 50.2% |
| **总计** | **16块** | - | - | **980.6 kWh** | **100%** |

---

## 🔍 数据完整性

### ✅ 已提取的信息

#### 从 final.json 根级别提取：
- ✅ 项目基本信息（17个字段）
- ✅ 设计方案基本信息（设计ID、类型、名称等）
- ✅ 财务信息（投资、补贴、节省、IRR等）
- ✅ 电池配置（容量、自用率等）
- ✅ 链接信息（卡片、渲染、地图）

#### 从嵌套的 layout JSON 字符串提取：
- ✅ Layout 基本信息（GIS时间ID、GIS日期、面板总数、屋顶数量）
- ✅ 面板位置信息（positions 数组）
- ✅ 面板朝向和坡度（aspect、slope）
- ✅ 发电量计算状态（calStatus）
- ✅ 年度总发电量（annualGeneratePower）
- ✅ 月度发电量列表（monthlyPowerList - 12个月）
- ✅ 月度日均发电量（monthlyDailyPowerList - 12个月）
- ✅ **小时发电量数据**（monthlyHourlyPowerList - 12月×24小时）

---

## 📈 数据应用场景

### 1. 完整项目分析
- 综合评估所有设计方案
- 对比不同方案的投资回报
- 分析电池容量对成本的影响

### 2. 精细化能源管理
- 基于小时发电量优化用电时段
- 规划储能充放电策略
- 识别最佳自用时段

### 3. 财务决策支持
- 计算不同方案的净现值 (NPV)
- 评估投资风险
- 制定融资方案

### 4. 技术优化
- 分析屋顶朝向对发电的影响
- 评估面板布局的合理性
- 优化系统配置

### 5. 性能监控
- 对比实际发电量与预测值
- 识别系统性能问题
- 评估长期发电趋势

---

## 📝 数据格式

- **CSV**: 适合 Excel 打开和数据分析
- **Markdown**: 适合文档查看和版本控制

---

## 🔄 更新数据

如需重新生成表格，运行：

```bash
python3 ../../../parse_data_final_complete.py
```

该脚本会自动扫描 `data/` 目录下所有的 `final.json` 文件，完整解析所有信息（包括嵌套的 layout 数据），并生成对应的输出。

---

## 📊 文件统计

本目录共包含 **28 个文件**：

| 类别 | CSV | MD | 总计 |
|------|-----|-----|------|
| 项目信息 | 1 | 1 | 2 |
| 设计方案信息 | 1 | 1 | 2 |
| 面板完整信息 | 3 | 3 | 6 |
| 月度发电量汇总 | 3 | 3 | 6 |
| 小时发电量 | 6 | 6 | 12 |
| **总计** | **14** | **14** | **28** |

---

## 💡 使用建议

1. **快速查看**: 优先查看 Markdown 文件，格式清晰易读
2. **数据分析**: 使用 CSV 文件导入 Excel 或 Python 进行深度分析
3. **方案对比**: 查看 `02_设计方案完整信息` 了解所有方案的关键指标
4. **发电分析**: 查看 `03_[方案名称]_面板完整信息` 了解月度发电详情
5. **精细分析**: 查看 `05_[方案名称]_屋顶[N]_小时发电量` 进行小时级分析

---

*生成时间: 2025-10-26*  
*数据源: data/Address: 19 Barrob St, Old Beach TAS 7017, Australia 147.2752573,-42.7520648/final.json*  
*项目ID: 577*  
*解析脚本: parse_data_final_complete.py*
